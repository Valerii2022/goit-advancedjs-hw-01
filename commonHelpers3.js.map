{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash.throttle';\n\nconst emailRef = document.querySelector('input');\nconst messageRef = document.querySelector('textarea');\nconst formRef = document.querySelector('.feedback-form');\n\nconst LOCALSTORAGE_FORM_KEY = 'feedback-form-state';\n\nconst userInfo = JSON.parse(localStorage.getItem(LOCALSTORAGE_FORM_KEY)) || {};\n\nemailRef.value = userInfo.email || '';\nmessageRef.value = userInfo.message || '';\n\nemailRef.required = true;\nmessageRef.required = true;\n\nconst handleFormChange = e => {\n  userInfo[e.target.name] = e.target.value;\n  localStorage.setItem(LOCALSTORAGE_FORM_KEY, JSON.stringify(userInfo));\n};\n\nconst handleSubmitForm = e => {\n  e.preventDefault();\n  console.log(userInfo);\n  localStorage.removeItem(LOCALSTORAGE_FORM_KEY);\n  formRef.reset();\n  userInfo.email = '';\n  userInfo.message = '';\n};\n\nformRef.addEventListener('input', throttle(handleFormChange, 500));\nformRef.addEventListener('submit', handleSubmitForm);\n"],"names":["emailRef","messageRef","formRef","LOCALSTORAGE_FORM_KEY","userInfo","handleFormChange","e","handleSubmitForm","throttle"],"mappings":"wIAEA,MAAMA,EAAW,SAAS,cAAc,OAAO,EACzCC,EAAa,SAAS,cAAc,UAAU,EAC9CC,EAAU,SAAS,cAAc,gBAAgB,EAEjDC,EAAwB,sBAExBC,EAAW,KAAK,MAAM,aAAa,QAAQD,CAAqB,CAAC,GAAK,GAE5EH,EAAS,MAAQI,EAAS,OAAS,GACnCH,EAAW,MAAQG,EAAS,SAAW,GAEvCJ,EAAS,SAAW,GACpBC,EAAW,SAAW,GAEtB,MAAMI,EAAmBC,GAAK,CAC5BF,EAASE,EAAE,OAAO,MAAQA,EAAE,OAAO,MACnC,aAAa,QAAQH,EAAuB,KAAK,UAAUC,CAAQ,CAAC,CACtE,EAEMG,EAAmBD,GAAK,CAC5BA,EAAE,eAAc,EAChB,QAAQ,IAAIF,CAAQ,EACpB,aAAa,WAAWD,CAAqB,EAC7CD,EAAQ,MAAK,EACbE,EAAS,MAAQ,GACjBA,EAAS,QAAU,EACrB,EAEAF,EAAQ,iBAAiB,QAASM,EAASH,EAAkB,GAAG,CAAC,EACjEH,EAAQ,iBAAiB,SAAUK,CAAgB"}